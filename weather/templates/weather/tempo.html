{% extends "base.html" %}

{% block title %}Previsão do Tempo{% endblock %}

{% block content %}
<div class="weather-container">
  <h1><i class="fas fa-cloud-sun"></i> Previsão do Tempo</h1>

  {% if error %}
    <p style="color:red;">{{ error }}</p>
  {% endif %}

  <form method="GET">
    <input type="text" name="city" placeholder="Digite a cidade" required />
    <button type="submit"><i class="fas fa-search"></i> Buscar</button>
  </form>

  {% if weather_data %}
  <div class="result">
    <p><i class="fas fa-location-dot"></i> {{ weather_data.city_name }}</p>
    <p><i class="fas fa-temperature-high"></i> Temperatura: {{ weather_data.temperature }}°C</p>
    <p><i class="fas fa-cloud"></i> {{ weather_data.description }}</p>
    <p><i class="fas fa-tint"></i> Umidade: {{ weather_data.humidity }}%</p>
    {% if weather_data.icon %}
      <img src="https://developer.accuweather.com/sites/default/files/{{ weather_data.icon|stringformat:"02d" }}-s.png" alt="Ícone do tempo">
    {% endif %}
  </div>
  {% endif %}
</div>
{% endblock %}
